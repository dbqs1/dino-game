<!DOCTYPE html>
<html>
<head>
    <title>Dinosaur Runner Game</title>
    <style>
        .game-container {
            width: 600px;
            height: 200px;
            border: 1px solid black;
            margin: 50px auto;
            position: relative;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        
        #player {
            width: 44px;
            height: 47px;
            position: absolute;
            bottom: 0;
            left: 50px;
            transform-origin: bottom center;
        }

        .dino {
            width: 100%;
            height: 100%;
        }

        .dino-running .leg-1 {
            animation: legMove 0.2s infinite;
        }

        .dino-running .leg-2 {
            animation: legMove 0.2s infinite reverse;
        }

        @keyframes legMove {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(3px); }
        }
        
        .obstacle {
            position: absolute;
            bottom: 0;
            left: 600px;
        }

        .cloud {
            position: absolute;
            opacity: 0.7;
        }

        .cloud svg {
            width: 100%;
            height: 100%;
        }

        .cactus {
            width: 100%;
            height: 100%;
        }
        
        #score {
            text-align: center;
            font-family: Arial, sans-serif;
            font-size: 24px;
            margin-top: 20px;
        }
        
        #game-over {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: Arial, sans-serif;
            font-size: 30px;
            color: #f00;
            text-align: center;
        }

        #restart-button {
            display: none;
            position: absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: Arial, sans-serif;
            font-size: 20px;
            padding: 10px 20px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            margin-top: 20px;
        }

        #restart-button:hover {
            background-color: #45a049;
        }

        .instructions {
            text-align: center;
            font-family: Arial, sans-serif;
            margin-bottom: 20px;
        }

        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 2px;
            background-color: #333;
        }
    </style>
</head>
<body>
    <div class="instructions">Press SPACEBAR to jump. Avoid the cacti!</div>
    <div class="game-container">
        <div id="player">
            <svg class="dino" viewBox="0 0 44 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path class="body" d="M37 2h-3v3h3v3h3v21h-3v3h-3v3h-3v3h-3v3H10v-3H7v-3H4v-3H1v-3h6v3h3v3h6v-3h3v-3h3v-3h3v-6h-6v3h-3v3h-3v3h-6v-3H4v-3H1v-3h6v3h3v-3h3v-3h3v-3h3v3h3v-3h-3v-3h-3V7h-3V4h-3V1h15v3h3v3h3v3h3v-3h3V4h3V1h3v4h-3z" fill="#535353"/>
                <path class="leg-1" d="M7 38H4v6h3v-6z" fill="#535353"/>
                <path class="leg-2" d="M17 38h-3v6h3v-6z" fill="#535353"/>
            </svg>
        </div>
        <div id="game-over">GAME OVER</div>
        <button id="restart-button">Restart Game</button>
        <div class="ground"></div>
    </div>
    <div id="score">Score: 0</div>

    <script>
        const player = document.getElementById('player');
        const gameContainer = document.querySelector('.game-container');
        const gameOverText = document.getElementById('game-over');
        const scoreElement = document.getElementById('score');
        const restartButton = document.getElementById('restart-button');
        
        let isJumping = false;
        let gravity = 0.9;
        let position = 0;
        let isGameOver = false;
        let score = 0;
        let obstacleTimers = [];
        let lastObstacleTime = 0;
        const minObstacleGap = 700; // Minimum time between obstacles

        const cloudSVG = `
            <svg viewBox="0 0 60 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 20c0 5.523-4.477 10-10 10v-20c5.523 0 10 4.477 10 10zM50 20c0 5.523 4.477 10 10 10v-20c-5.523 0-10 4.477-10 10zM10 20h40" stroke="#535353" stroke-width="2"/>
                <path d="M20 15c0 8.284-6.716 15-15 15V0c8.284 0 15 6.716 15 15zM40 15c0 8.284 6.716 15 15 15V0c-8.284 0-15 6.716-15 15zM20 15h20" stroke="#535353" stroke-width="2"/>
            </svg>
        `;

        // Multiple cactus templates with different sizes
       // Multiple cactus templates with different sizes
const cactiTemplates = [
    {
        width: 25,
        height: 50,
        svg: `<svg class="cactus" viewBox="0 0 25 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 8h-3v34H8V15H5v-3h3V5h3V2h3v3h3v3h-3v3zM20 15h-3v27h-3V15h3v-3h3v3z" fill="#535353"/>
        </svg>`
    },
    {
        width: 15,
        height: 35,
        svg: `<svg class="cactus" viewBox="0 0 15 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 6H6v24H3v-3h3V6H3V3h3V0h3v3h3v3H9z" fill="#535353"/>
        </svg>`
    },
    {
        width: 50,
        height: 50,
        svg: `<svg class="cactus" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 8h-3v34H8V15H5v-3h3V5h3V2h3v3h3v3h-3v3z" fill="#535353"/>
            <path d="M25 15h-3v27h-3V15h3v-3h3v3zM36 12h-3v30h-3V12h3V9h3v3z" fill="#535353"/>
            <path d="M47 18h-3v24h-3V18h3v-3h3v3z" fill="#535353"/>
        </svg>`
    }
];


        function generateCloud() {
            if (isGameOver) return;
            
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            cloud.style.width = '60px';
            cloud.style.height = '30px';
            cloud.innerHTML = cloudSVG;
            
            // Random vertical position in top half of container
            const top = Math.random() * 100 + 20;
            cloud.style.top = `${top}px`;
            cloud.style.left = '600px';
            
            gameContainer.appendChild(cloud);
            
            const speed = 2 + Math.random(); // Random speed between 2-3
            let position = 600;
            
            const moveCloud = setInterval(() => {
                if (isGameOver) {
                    clearInterval(moveCloud);
                    cloud.remove();
                    return;
                }
                
                position -= speed;
                cloud.style.left = `${position}px`;
                
                if (position < -60) {
                    clearInterval(moveCloud);
                    cloud.remove();
                }
            }, 20);
            
            // Generate next cloud
            const nextCloudDelay = Math.random() * 10000 + 5000;
            setTimeout(generateCloud, nextCloudDelay);
        }
        
        function control(e) {
            if (e.keyCode === 32) {
                if (!isJumping && !isGameOver) {
                    isJumping = true;
                    jump();
                }
            }
        }
        
        function jump() {
            player.classList.remove('dino-running');
            player.style.transform = 'rotate(-20deg)';
            let count = 0;
            let timerId = setInterval(function() {
                if (count === 10) { // Reduced jump height further
                    clearInterval(timerId);
                    let downTimerId = setInterval(function() {
                        if (count === 0) {
                            clearInterval(downTimerId);
                            isJumping = false;
                            player.style.transform = 'rotate(0deg)';
                            if (!isGameOver) player.classList.add('dino-running');
                        }
                        position -= 5;
                        count--;
                        position = position * gravity;
                        player.style.bottom = position + 'px';
                    }, 20);
                }
                position += 20; // Reduced jump power
                count++;
                position = position * gravity;
                player.style.bottom = position + 'px';
            }, 20);
        }
        
        function generateObstacles() {
            const now = Date.now();
            if (now - lastObstacleTime < minObstacleGap) {
                setTimeout(generateObstacles, minObstacleGap - (now - lastObstacleTime));
                return;
            }
            
            if (isGameOver) return;
            
            lastObstacleTime = now;
            let randomTime = Math.random() * 1000 + 1200; // More consistent timing
            let obstaclePosition = 600;
            
            const cactusType = cactiTemplates[Math.floor(Math.random() * cactiTemplates.length)];
            
            const obstacle = document.createElement('div');
            obstacle.classList.add('obstacle');
            obstacle.style.width = cactusType.width + 'px';
            obstacle.style.height = cactusType.height + 'px';
            obstacle.innerHTML = cactusType.svg;
            gameContainer.appendChild(obstacle);
            
            let speed = 6 + Math.floor(score / 500); // Speed increases more gradually
            
            let timerId = setInterval(function() {
                if (obstaclePosition > 40 && obstaclePosition < 90 && position < 60) {
                    gameOver();
                    return;
                }
                
                obstaclePosition -= speed;
                obstacle.style.left = obstaclePosition + 'px';
                
                if (obstaclePosition < -50) {
                    clearInterval(timerId);
                    gameContainer.removeChild(obstacle);
                    score += 10;
                    scoreElement.textContent = 'Score: ' + score;
                }
            }, 20);
            
            obstacleTimers.push(timerId);
            if (!isGameOver) setTimeout(generateObstacles, randomTime);
        }

        function gameOver() {
            isGameOver = true;
            gameOverText.style.display = 'block';
            restartButton.style.display = 'block';
            player.classList.remove('dino-running');
            
            obstacleTimers.forEach(timer => clearInterval(timer));
            obstacleTimers = [];
            
            const obstacles = document.querySelectorAll('.obstacle');
            obstacles.forEach(obstacle => obstacle.remove());
        }

        function restartGame() {
            isGameOver = false;
            score = 0;
            position = 0;
            isJumping = false;
            lastObstacleTime = 0;
            
            player.style.bottom = '0px';
            player.style.transform = 'rotate(0deg)';
            player.classList.add('dino-running');
            gameOverText.style.display = 'none';
            restartButton.style.display = 'none';
            scoreElement.textContent = 'Score: 0';
            
            generateObstacles();
        }
        
        document.addEventListener('keyup', control);
        restartButton.addEventListener('click', restartGame);
        
        // Start game
        player.classList.add('dino-running');
        generateObstacles();
        generateCloud(); // Start generating clouds
    </script>
</body>
</html>
